version: '3.0'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
# - start
- random_data
- user_give_name
# - solve_riddle_date
# - solve_world_cup_riddle
# - get_current_room
# - get_number_puzzle_solved
# - solve_wet_riddle
# - get_current_puzzle_prompt
- get_hint
- pick_something
- affirm_to_play
- deny_to_play
- give_direction
- give_son_answer
- give_math_answer
- look_at
- switch_room
# - turn_on

entities:
- name
# - answer_date
# - answer_world_cup
# - current_room
# - number_puzzle_solved
- lives
- current_puzzle_to_solve
# - answer_wet
# - date_puzzle_hint_count
# - worldcup_puzzle_hint_count
# - wet_puzzle_hint_count
- picked_item
- direction
- son_puzzle_hint_count
- son_answer
- is_son_puzzle_solved
- math_puzzle_hint_count
- east_puzzle_hint_count
- north_puzzle_hint_count
- south_puzzle_hint_count
- math_answer
- is_math_puzzle_solved
- looked_item
- current_room


slots:
  name:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: name

  # answer_date:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: answer_date

  # answer_world_cup:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: answer_world_cup

  # current_room:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: current_room

  # number_puzzle_solved:
  #   type: float
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: number_puzzle_solved

  lives:
    type: float
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: lives
  
  current_puzzle_to_solve:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: current_puzzle_to_solve

  # answer_wet:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: answer_wet
  
  # date_puzzle_hint_count:
  #   type: float
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: date_puzzle_hint_count
  
  # worldcup_puzzle_hint_count:
  #   type: float
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: worldcup_puzzle_hint_count

  # wet_puzzle_hint_count:
  #   type: float
  #   influence_conversation: true
  #   mappings:
  #   - type: from_entity
  #     entity: wet_puzzle_hint_count

  son_puzzle_hint_count:
    type: float
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: son_puzzle_hint_count

  math_puzzle_hint_count:
    type: float
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: math_puzzle_hint_count

  east_puzzle_hint_count:
    type: float
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: east_puzzle_hint_count

  north_puzzle_hint_count:
    type: float
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: north_puzzle_hint_count

  south_puzzle_hint_count:
    type: float
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: south_puzzle_hint_count

  picked_item:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: picked_item

  looked_item:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: looked_item

  direction:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: direction

  son_answer:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: son_answer

  math_answer:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: math_answer
  
  
  is_son_puzzle_solved:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: is_son_puzzle_solved

  is_math_puzzle_solved:
    type: bool
    initial_value: false
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: is_math_puzzle_solved

  current_room:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: current_room

responses:
  utter_random_thing:
  - text: "I am not understanding....Please ask again!"

actions:
- utter_random_thing
# - action_session_started
- action_say_name
# - action_say_is_date_riddle_correct
# - action_say_is_world_cup_riddle_correct
# - action_say_is_wet_riddle_correct
# - action_get_current_room
# - action_get_number_puzzle_solved
- action_default_fallback
# - action_get_current_puzzle_prompt
- action_get_hints
- action_pick_something
- action_handle_affirmation
- action_handle_direction
- action_son_puzzle
- action_math_puzzle
- action_look_at
# - action_handle_turn_on
- action_set_room